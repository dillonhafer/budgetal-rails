var hidden = true
var lists = $('.expense-list.expenses_<%= @item.id %>')
jQuery.each(lists, function(i,v) {
  if (!$(v).hasClass('hide')) {
    hidden = false
  }
})

var new_item = $(".budget-item-form-<%= @item.id %>").length == false
if (new_item) {
  $('.budget-item-form-new').addClass("budget-item-form-<%= @item.id %>")
  $('.budget-item-form-new').removeClass('budget-item-form-new')
}

// Update Category
$(".budget-item-form-<%= @item.id %>").html("<%= j(render partial: 'budget_item', locals: {bi: @item}) %>")

// Update Category Overview
$('.category-overview').html("<%= j(render partial: 'budget_categories/category_overview', locals: {c: @item.budget_category}) %>")

// Update Overview
$('.overview-partial').html("<%= j(render partial: 'budget_categories/overviews', locals: {b: @item.budget_category.budget}) %>")

if (hidden == false) {
  $('.expense-list.expenses_<%= @item.id %>').removeClass('hide')
  var i = $('.budget-item-form-<%= @item.id %> .show-expenses i')
  i.removeClass('fi-arrows-expand blue-color').addClass('fi-arrows-compress alert-color');
}
$('document').foundation()
$(window).trigger('resize')
